








































































struct dhcp_msg {
	uint8_t op; 		
	uint8_t	htype;		
	uint8_t hlen;		
	uint8_t hops;		
	uint8_t xid[4];		
	uint16_t secs;		
	uint16_t flags;		
	uint8_t ciaddr[4];	
	uint8_t yiaddr[4];	
	uint8_t siaddr[4];	
	uint8_t giaddr[4];	
	uint8_t chaddr[16];	
	uint8_t sname[64];	
	uint8_t file[128];	
	uint8_t options[312];   
};


static const uint8_t dhcp_magic_cookie[4] = {99, 130, 83, 99};
static const uint8_t dhcp_option_lease_time[] = {0x00, 0x00, 0x1c, 0x20}; 


static const uint8_t dhcp_option_interface_mtu[] = {0x05, 0xDC};

struct table {
	uint32_t ip_range[8];

	uint8_t client_mac[256][6];

};

struct address_pool{
	uint32_t start;
	uint32_t end;
};



















void dhcps_set_addr_pool(int addr_pool_set, struct ip_addr * addr_pool_start, struct ip_addr *addr_pool_end);
void dhcps_init(struct netif * pnetif);
void dhcps_deinit(void);

extern struct netif *netif_default;


