





struct lsquic_packno_range;





struct trechist_elem {
    uint32_t        te_low;
    unsigned char   te_count;
    unsigned char   te_next;    
};






typedef uint32_t trechist_mask_t;

int lsquic_trechist_insert (trechist_mask_t *, struct trechist_elem *, uint32_t);

struct trechist_iter {
    struct lsquic_packno_range  range;
    const struct trechist_elem *elems;
    trechist_mask_t             mask;
    unsigned char               next;
};

void lsquic_trechist_iter (struct trechist_iter *iter, trechist_mask_t mask, const struct trechist_elem *);



const struct lsquic_packno_range * lsquic_trechist_first (void *iter);

const struct lsquic_packno_range * lsquic_trechist_next (void *iter);

void lsquic_trechist_copy_ranges (trechist_mask_t *mask , struct trechist_elem *elems, void *src_rechist, const struct lsquic_packno_range * (*first) (void *), const struct lsquic_packno_range * (*next) (void *));




int lsquic_trechist_contains (trechist_mask_t mask, const struct trechist_elem *elems, uint32_t packno);


uint32_t lsquic_trechist_max (trechist_mask_t mask, const struct trechist_elem *elems);


