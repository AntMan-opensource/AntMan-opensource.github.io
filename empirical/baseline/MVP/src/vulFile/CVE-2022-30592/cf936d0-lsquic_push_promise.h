




struct push_promise {
    
    SLIST_ENTRY(push_promise)   pp_next;
    
    struct lsquic_hash_elem     pp_hash_id;
    uint64_t                    pp_id;
    struct lsquic_stream       *pp_pushed_stream;
    size_t                      pp_content_len;
    
    unsigned                    pp_refcnt;
    
    enum {
        PPWS_ID0,        PPWS_ID1, PPWS_ID2, PPWS_ID3, PPWS_ID4, PPWS_ID5, PPWS_ID6, PPWS_ID7, PPWS_PFX0, PPWS_PFX1, PPWS_HBLOCK, PPWS_DONE, }                           pp_write_state;











    unsigned                    pp_write_off;
    unsigned char               pp_encoded_push_id[8];
    
    unsigned char               pp_content_buf[0];
};
















