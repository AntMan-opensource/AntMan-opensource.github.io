












 
 
















 
 
 
 
 






 
 
 


 
 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 

 
 
 
 
 





UINT  _ux_device_class_dfu_entry(UX_SLAVE_CLASS_COMMAND *command)
{

UINT        status;


    
    switch (command -> ux_slave_class_command_request)
    {

    case UX_SLAVE_CLASS_COMMAND_INITIALIZE:

        
        status =  _ux_device_class_dfu_initialize(command);
        
        
        return(status);


    case UX_SLAVE_CLASS_COMMAND_QUERY:

        
        if (command -> ux_slave_class_command_class == UX_SLAVE_CLASS_DFU_CLASS)
            return(UX_SUCCESS);
        else return(UX_NO_CLASS_MATCH);

    case UX_SLAVE_CLASS_COMMAND_ACTIVATE:

        
        status =  _ux_device_class_dfu_activate(command);

        
        return(status);

    case UX_SLAVE_CLASS_COMMAND_DEACTIVATE:

        
        status =  _ux_device_class_dfu_deactivate(command);
        
        
        return(status);

    case UX_SLAVE_CLASS_COMMAND_REQUEST:

        
        status = _ux_device_class_dfu_control_request(command);

        
        return(status);

    default: 

        
        UX_TRACE_IN_LINE_INSERT(UX_TRACE_ERROR, UX_FUNCTION_NOT_SUPPORTED, 0, 0, 0, UX_TRACE_ERRORS, 0, 0)

        
        return(UX_FUNCTION_NOT_SUPPORTED);
    }   
}

