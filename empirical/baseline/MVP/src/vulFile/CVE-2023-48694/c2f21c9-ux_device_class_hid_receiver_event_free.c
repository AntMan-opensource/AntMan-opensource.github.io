







































































UINT  _ux_device_class_hid_receiver_event_free(UX_SLAVE_CLASS_HID *hid)
{

    UX_PARAMETER_NOT_USED(hid);
    return(UX_FUNCTION_NOT_SUPPORTED);


UX_DEVICE_CLASS_HID_RECEIVER            *receiver;
UX_DEVICE_CLASS_HID_RECEIVED_EVENT      *pos;
UCHAR                                   *next_pos;

    
    receiver = hid -> ux_device_class_hid_receiver;

    
    pos = receiver -> ux_device_class_hid_receiver_event_read_pos;

    
    UX_TRACE_IN_LINE_INSERT(UX_TRACE_DEVICE_CLASS_HID_RECEIVER_EVENT_FREE, hid, pos, 0, 0, UX_TRACE_DEVICE_CLASS_EVENTS, 0, 0)

    
    if (pos -> ux_device_class_hid_received_event_length == 0)
        return(UX_ERROR);

    
    next_pos = (UCHAR *)pos + receiver -> ux_device_class_hid_receiver_event_buffer_size + sizeof(ULONG);
    if (next_pos >= (UCHAR *)receiver -> ux_device_class_hid_receiver_events_end)
        next_pos = (UCHAR *)receiver -> ux_device_class_hid_receiver_events;
    receiver -> ux_device_class_hid_receiver_event_read_pos = (UX_DEVICE_CLASS_HID_RECEIVED_EVENT *)next_pos;
    pos -> ux_device_class_hid_received_event_length = 0;

    
    _ux_device_event_flags_set(&hid -> ux_device_class_hid_event_flags_group, UX_DEVICE_CLASS_HID_RECEIVER_RESTART, UX_OR);

    
    return(UX_SUCCESS);

}
