




































































ULONG _ux_device_class_video_max_payload_length(UX_DEVICE_CLASS_VIDEO_STREAM *stream)
{

UX_SLAVE_ENDPOINT           *endpoint;
UX_SLAVE_DEVICE             *device;


    
    device =  &_ux_system_slave -> ux_system_slave_device;

    
    if (device -> ux_slave_device_state != UX_DEVICE_CONFIGURED)
        return(0);

    
    endpoint = stream -> ux_device_class_video_stream_endpoint;
    if (endpoint == UX_NULL)
        return(0);

    
    return(endpoint -> ux_slave_endpoint_transfer_request. ux_slave_transfer_request_transfer_length);
}
