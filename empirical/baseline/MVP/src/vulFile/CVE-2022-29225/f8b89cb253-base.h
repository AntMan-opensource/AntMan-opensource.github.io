







namespace Envoy {
namespace Zlib {



class Base {
public:
  Base(uint64_t chunk_size, std::function<void(z_stream*)> zstream_deleter);

  
  uint64_t checksum();

protected:
  void updateOutput(Buffer::Instance& output_buffer);

  const uint64_t chunk_size_;
  bool initialized_{false};

  const std::unique_ptr<unsigned char[]> chunk_char_ptr_;
  const std::unique_ptr<z_stream, std::function<void(z_stream*)>> zstream_ptr_;
};

} 
} 
