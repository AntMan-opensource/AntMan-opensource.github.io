







struct cmd_tbl;











struct blk_desc;


int do_fat_fsload(struct cmd_tbl *cmdtp, int flag, int argc, char *const argv[]);


int do_ext2load(struct cmd_tbl *cmdtp, int flag, int argc, char *const argv[]);


int fs_set_blk_dev(const char *ifname, const char *dev_part_str, int fstype);


void fs_set_type(int type);


int fs_set_blk_dev_with_part(struct blk_desc *desc, int part);


void fs_close(void);


int fs_get_type(void);


const char *fs_get_type_name(void);


int fs_ls(const char *dirname);


int fs_exists(const char *filename);


int fs_size(const char *filename, loff_t *size);


int fs_read(const char *filename, ulong addr, loff_t offset, loff_t len, loff_t *actread);


int fs_write(const char *filename, ulong addr, loff_t offset, loff_t len, loff_t *actwrite);







struct fs_dirent {
	
	unsigned int type;
	
	loff_t size;
	
	u32 attr;
	
	struct rtc_time create_time;
	
	struct rtc_time access_time;
	
	struct rtc_time change_time;
	
	char name[256];
};


struct fs_dir_stream {
	
	struct blk_desc *desc;
	int part;
};


struct fs_dir_stream *fs_opendir(const char *filename);


struct fs_dirent *fs_readdir(struct fs_dir_stream *dirs);


void fs_closedir(struct fs_dir_stream *dirs);


int fs_unlink(const char *filename);


int fs_mkdir(const char *filename);


int do_size(struct cmd_tbl *cmdtp, int flag, int argc, char *const argv[], int fstype);
int do_load(struct cmd_tbl *cmdtp, int flag, int argc, char *const argv[], int fstype);
int do_ls(struct cmd_tbl *cmdtp, int flag, int argc, char *const argv[], int fstype);
int file_exists(const char *dev_type, const char *dev_part, const char *file, int fstype);
int do_save(struct cmd_tbl *cmdtp, int flag, int argc, char *const argv[], int fstype);
int do_rm(struct cmd_tbl *cmdtp, int flag, int argc, char *const argv[], int fstype);
int do_mkdir(struct cmd_tbl *cmdtp, int flag, int argc, char *const argv[], int fstype);
int do_ln(struct cmd_tbl *cmdtp, int flag, int argc, char *const argv[], int fstype);


int do_fs_uuid(struct cmd_tbl *cmdtp, int flag, int argc, char *const argv[], int fstype);


int do_fs_type(struct cmd_tbl *cmdtp, int flag, int argc, char *const argv[]);


int do_fs_types(struct cmd_tbl *cmdtp, int flag, int argc, char * const argv[]);


