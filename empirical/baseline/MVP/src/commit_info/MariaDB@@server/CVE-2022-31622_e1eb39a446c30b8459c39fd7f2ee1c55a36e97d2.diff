commit e1eb39a446c30b8459c39fd7f2ee1c55a36e97d2
Author: ryancaicse <73822648+ryancaicse@users.noreply.github.com>
Date:   Tue Oct 26 18:48:44 2021 +0800

    MDEV-26561 Fix a bug due to unreleased lock
    
    Fix a bug of unreleased lock ctrl_mutex in the method create_worker_threads

diff --git a/extra/mariabackup/ds_compress.cc b/extra/mariabackup/ds_compress.cc
index 23de4d85116..72c93879947 100644
--- a/extra/mariabackup/ds_compress.cc
+++ b/extra/mariabackup/ds_compress.cc
@@ -369,6 +369,7 @@ create_worker_threads(uint n)
 				   thd)) {
 			msg("compress: pthread_create() failed: "
 			    "errno = %d", errno);
+			pthread_mutex_unlock(&thd->ctrl_mutex);
 			goto err;
 		}
 	}
