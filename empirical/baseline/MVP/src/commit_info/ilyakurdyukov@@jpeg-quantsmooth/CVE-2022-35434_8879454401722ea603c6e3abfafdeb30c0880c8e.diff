commit 8879454401722ea603c6e3abfafdeb30c0880c8e
Author: Ilya Kurdyukov <59548320+ilyakurdyukov@users.noreply.github.com>
Date:   Sun Jul 10 13:34:36 2022 +0700

    removing unwanted changes from a previous commit

diff --git a/quantsmooth.h b/quantsmooth.h
index b667632..fe5883e 100644
--- a/quantsmooth.h
+++ b/quantsmooth.h
@@ -1588,8 +1588,8 @@ JPEGQS_ATTR int QS_NAME(j_decompress_ptr srcinfo, jvirt_barray_ptr *coef_arrays,
 		// skip if already processed
 		{
 			int val = 0;
-			for (i = 0; i < DCTSIZE2; i++) val |= (int)qtbl->quantval[i] - 1;
-			if (val <= 0) num_iter2 = 0;
+			for (i = 0; i < DCTSIZE2; i++) val |= qtbl->quantval[i];
+			if (val <= 1) num_iter2 = 0;
 
 			// damaged JPEG files may contain multipliers equal to zero
 			// replacing them with ones avoids division by zero
