commit b53b62b756920f4c1509f4ee06427f66c3b5c9c4
Author: tbeu <tbeu@users.noreply.github.com>
Date:   Tue Feb 22 21:05:05 2022 +0100

    Fix memory leak
    
    As reported by https://github.com/tbeu/matio/issues/186

diff --git a/src/mat5.c b/src/mat5.c
index ab94127..ec29abc 100644
--- a/src/mat5.c
+++ b/src/mat5.c
@@ -1879,6 +1879,10 @@ ReadNextFunctionHandle(mat_t *mat, matvar_t *matvar)
                 break;
         }
         if ( err ) {
+            size_t j;
+            for ( j = 0; j < i; j++ ) {
+                free(functions[j]);
+            }
             free(matvar->data);
             matvar->data = NULL;
             matvar->data_size = 0;
