commit 0657c83d08845cc434175934c642299de2c0f042
Author: Mihai Maruseac <mihaimaruseac@google.com>
Date:   Tue Nov 9 04:44:43 2021 -0800

    Fix heap OOB read/write due to incorrect indexing.
    
    PiperOrigin-RevId: 408578046
    Change-Id: Ifc9ffea49e5890f55fcb2c27568611052c3ddcfa

diff --git a/tensorflow/core/framework/full_type_util.cc b/tensorflow/core/framework/full_type_util.cc
index e0d8ca0721c..89617dc97f2 100644
--- a/tensorflow/core/framework/full_type_util.cc
+++ b/tensorflow/core/framework/full_type_util.cc
@@ -100,7 +100,7 @@ StatusOr<FullTypeDef> SpecializeType(const AttrSlice& attrs,
     // verifications are needed, they should be done by separately, and in a
     // way that can be reused for type inference.
     for (int j = 0; j < t->args_size(); j++) {
-      auto* arg = t->mutable_args(i);
+      auto* arg = t->mutable_args(j);
       if (arg->type_id() == TFT_VAR) {
         const auto* attr = attrs.Find(arg->s());
         if (attr == nullptr) {
