commit a1b11d2fdd1e51bfe18bb1ede804f60abfa92da6
Author: Mihai Maruseac <mihaimaruseac@google.com>
Date:   Tue Apr 20 10:52:46 2021 -0700

    Fix one division by zero
    
    PiperOrigin-RevId: 369474832
    Change-Id: I1082858ed78d9b2e4738ce30b231955973d49e1e

diff --git a/tensorflow/core/kernels/quantized_mul_op.cc b/tensorflow/core/kernels/quantized_mul_op.cc
index 4e191f16266..fb56f68bf14 100644
--- a/tensorflow/core/kernels/quantized_mul_op.cc
+++ b/tensorflow/core/kernels/quantized_mul_op.cc
@@ -347,6 +347,11 @@ class QuantizedMulOp : public OpKernel {
         tensor_num_elements = x.NumElements();
         tensor_offset = offset_x;
       }
+      if (vector_num_elements == 0) {
+        context->SetStatus(
+            errors::InvalidArgument("vector must have at least 1 element"));
+        return;
+      }
       VectorTensorMultiply<T, Toutput>(
           vector_data, vector_offset, vector_num_elements, tensor_data,
           tensor_offset, tensor_num_elements, z_data);
