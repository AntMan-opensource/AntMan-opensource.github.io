commit 6841e522a3e7d48706a02e8819836e809f738682
Author: Mihai Maruseac <mihaimaruseac@google.com>
Date:   Wed Apr 28 15:13:03 2021 -0700

    Prevent division by 0
    
    PiperOrigin-RevId: 370995582
    Change-Id: I670ffaf52d1ff8823ec31ea5f438f9125b402223

diff --git a/tensorflow/lite/kernels/svdf.cc b/tensorflow/lite/kernels/svdf.cc
index 8f5c9a86bff..73024fd1e58 100644
--- a/tensorflow/lite/kernels/svdf.cc
+++ b/tensorflow/lite/kernels/svdf.cc
@@ -99,6 +99,7 @@ TfLiteStatus Prepare(TfLiteContext* context, TfLiteNode* node) {
   const int rank = params->rank;
   const int batch_size = input->dims->data[0];
   const int num_filters = weights_feature->dims->data[0];
+  TF_LITE_ENSURE(context, rank != 0);
   TF_LITE_ENSURE_EQ(context, num_filters % rank, 0);
   const int num_units = num_filters / rank;
   const int memory_size = weights_time->dims->data[1];
