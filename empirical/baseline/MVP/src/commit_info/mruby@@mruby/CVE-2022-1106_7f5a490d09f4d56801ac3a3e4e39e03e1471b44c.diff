commit 7f5a490d09f4d56801ac3a3e4e39e03e1471b44c
Author: Yukihiro "Matz" Matsumoto <matz@ruby.or.jp>
Date:   Sat Mar 26 21:06:02 2022 +0900

    vm.c: vm.c: stack may be reallocated in functions calls; aaa28a5
    
    `mrb_range_new()` also calls VM recursively.

diff --git a/src/vm.c b/src/vm.c
index fd17e90cc..77edbb38f 100644
--- a/src/vm.c
+++ b/src/vm.c
@@ -2819,13 +2819,15 @@ RETRY_TRY_BLOCK:
     }
 
     CASE(OP_RANGE_INC, B) {
-      regs[a] = mrb_range_new(mrb, regs[a], regs[a+1], FALSE);
+      mrb_value v = mrb_range_new(mrb, regs[a], regs[a+1], FALSE);
+      regs[a] = v;
       mrb_gc_arena_restore(mrb, ai);
       NEXT;
     }
 
     CASE(OP_RANGE_EXC, B) {
-      regs[a] = mrb_range_new(mrb, regs[a], regs[a+1], TRUE);
+      mrb_value v = mrb_range_new(mrb, regs[a], regs[a+1], TRUE);
+      regs[a] = v;
       mrb_gc_arena_restore(mrb, ai);
       NEXT;
     }
