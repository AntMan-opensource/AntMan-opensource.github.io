commit 35bf0b7b048d715f671eb68974fb6b4af6528c67
Author: Jan Friesse <jfriesse@redhat.com>
Date:   Mon Jul 4 09:39:47 2022 +0200

    Revert "Refactor: main: substitute is_auth_req macro"
    
    This reverts commit da79b8ba28ad4837a0fee13e5f8fb6f89fe0e24c.
    
    authfile != authkey
    
    Signed-off-by: Jan Friesse <jfriesse@redhat.com>

diff --git a/src/main.c b/src/main.c
index b50a883..b4a174f 100644
--- a/src/main.c
+++ b/src/main.c
@@ -364,7 +364,7 @@ static int setup_config(int type)
 	if (rv < 0)
 		goto out;
 
-	if (is_auth_req()) {
+	if (booth_conf->authfile[0] != '\0') {
 		rv = read_authkey();
 		if (rv < 0)
 			goto out;
