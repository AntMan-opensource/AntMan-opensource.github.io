commit aff17c4a57eb1e4d7ef00ea728d33cdb5b2ca9da
Author: Evgenii Kliuchnikov <eustas@google.com>
Date:   Wed Jun 29 12:41:12 2022 +0000

    Remove the check that fires in situations that should be generally allowed.

diff --git a/lib/jxl/render_pipeline/low_memory_render_pipeline.cc b/lib/jxl/render_pipeline/low_memory_render_pipeline.cc
index d60795bc..c63ef292 100644
--- a/lib/jxl/render_pipeline/low_memory_render_pipeline.cc
+++ b/lib/jxl/render_pipeline/low_memory_render_pipeline.cc
@@ -303,17 +303,6 @@ void LowMemoryRenderPipeline::Init() {
     stages_[i]->SetInputSizes(input_sizes);
   }
 
-  // Check that kInput stages appear after the switch to image dimensions (if
-  // any).
-  for (size_t i = 0; i < stages_.size(); i++) {
-    for (size_t c = 0; c < shifts.size(); c++) {
-      if (stages_[i]->GetChannelMode(c) == RenderPipelineChannelMode::kInput) {
-        JXL_ASSERT(first_image_dim_stage_ == stages_.size() ||
-                   i >= first_image_dim_stage_);
-      }
-    }
-  }
-
   anyc_.resize(stages_.size());
   for (size_t i = 0; i < stages_.size(); i++) {
     for (size_t c = 0; c < shifts.size(); c++) {
