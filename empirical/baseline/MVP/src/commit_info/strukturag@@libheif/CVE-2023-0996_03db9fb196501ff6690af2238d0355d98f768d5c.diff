commit 03db9fb196501ff6690af2238d0355d98f768d5c
Author: Joachim Bauch <bauch@struktur.de>
Date:   Wed Jan 11 08:41:36 2023 +0100

    JS: Fix copying of strided image data.
    
    Issue reported by Eugene Lim.

diff --git a/libheif/heif_emscripten.h b/libheif/heif_emscripten.h
index 42940b1a..a0f242f1 100644
--- a/libheif/heif_emscripten.h
+++ b/libheif/heif_emscripten.h
@@ -32,7 +32,7 @@ static void strided_copy(void* dest, const void* src, int width, int height,
     const uint8_t* _src = static_cast<const uint8_t*>(src);
     uint8_t* _dest = static_cast<uint8_t*>(dest);
     for (int y = 0; y < height; y++, _dest += width, _src += stride) {
-      memcpy(_dest, _src, stride);
+      memcpy(_dest, _src, width);
     }
   }
 }
