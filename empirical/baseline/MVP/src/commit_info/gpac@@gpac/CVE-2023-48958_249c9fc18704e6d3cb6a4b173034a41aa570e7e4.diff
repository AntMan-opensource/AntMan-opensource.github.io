commit 249c9fc18704e6d3cb6a4b173034a41aa570e7e4
Author: Aurelien David <aurelien.david@telecom-paristech.fr>
Date:   Thu Nov 16 11:07:25 2023 +0100

    fix memleak in mpd resolve url (fixes #2689)

diff --git a/src/media_tools/mpd.c b/src/media_tools/mpd.c
index 23a958341..470329d5b 100644
--- a/src/media_tools/mpd.c
+++ b/src/media_tools/mpd.c
@@ -4813,7 +4813,10 @@ GF_Err gf_mpd_resolve_url(GF_MPD *mpd, GF_MPD_Representation *rep, GF_MPD_Adapta
 
 	if (!media_url) {
 		GF_MPD_BaseURL *base = gf_list_get(rep->base_URLs, 0);
-		if (!base) return GF_BAD_PARAM;
+		if (!base) {
+			gf_free(url);
+			return GF_BAD_PARAM;
+		}
 		media_url = base->URL;
 	}
 	url_to_solve = NULL;
