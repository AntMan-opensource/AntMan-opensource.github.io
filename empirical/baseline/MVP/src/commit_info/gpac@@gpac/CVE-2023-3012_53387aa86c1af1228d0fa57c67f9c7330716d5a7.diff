commit 53387aa86c1af1228d0fa57c67f9c7330716d5a7
Author: jeanlf <jeanlf@gpac.io>
Date:   Wed May 31 14:09:48 2023 +0200

    fixed #2480

diff --git a/src/utils/xml_parser.c b/src/utils/xml_parser.c
index 49df33816..11f6f2f5c 100644
--- a/src/utils/xml_parser.c
+++ b/src/utils/xml_parser.c
@@ -704,6 +704,8 @@ static void xml_sax_parse_entity(GF_SAXParser *parser)
 		}
 	}
 	if (ent_name) gf_free(ent_name);
+	if (ent && !ent->value)
+		parser->sax_state = SAX_STATE_SYNTAX_ERROR;
 	xml_sax_store_text(parser, i);
 }
 
@@ -968,7 +970,7 @@ exit:
 static GF_Err xml_sax_append_string(GF_SAXParser *parser, char *string)
 {
 	u32 size = parser->line_size;
-	u32 nl_size = (u32) strlen(string);
+	u32 nl_size = string ? (u32) strlen(string) : 0;
 
 	if (!nl_size) return GF_OK;
 
