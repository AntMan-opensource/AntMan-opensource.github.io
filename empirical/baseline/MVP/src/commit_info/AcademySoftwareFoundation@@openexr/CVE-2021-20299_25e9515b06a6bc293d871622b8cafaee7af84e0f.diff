commit 25e9515b06a6bc293d871622b8cafaee7af84e0f
Author: Peter Hillman <peterh@wetafx.co.nz>
Date:   Tue Sep 22 18:52:57 2020 +1200

    add sanity check for reading multipart files with no parts (#840)
    
    Signed-off-by: Peter Hillman <peterh@wetafx.co.nz>

diff --git a/OpenEXR/IlmImf/ImfMultiPartInputFile.cpp b/OpenEXR/IlmImf/ImfMultiPartInputFile.cpp
index 689956c9..cbb2ec23 100644
--- a/OpenEXR/IlmImf/ImfMultiPartInputFile.cpp
+++ b/OpenEXR/IlmImf/ImfMultiPartInputFile.cpp
@@ -340,6 +340,11 @@ MultiPartInputFile::initialize()
     // Perform usual check on headers.
     //
 
+    if ( _data->_headers.size() == 0)
+    {
+        throw IEX_NAMESPACE::ArgExc ("Files must contain at least one header");
+    }
+
     for (size_t i = 0; i < _data->_headers.size(); i++)
     {
         //
