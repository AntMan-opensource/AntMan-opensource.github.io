commit 33331ce2d35d45d855af7441db6116b4a9e2b70f
Author: Gilles Boccon-Gibod <bok@bok.net>
Date:   Sun May 1 13:56:35 2022 -0700

    fix #691

diff --git a/Source/C++/Apps/Mp42Hls/Mp42Hls.cpp b/Source/C++/Apps/Mp42Hls/Mp42Hls.cpp
index 04bcbb9..4700ff2 100644
--- a/Source/C++/Apps/Mp42Hls/Mp42Hls.cpp
+++ b/Source/C++/Apps/Mp42Hls/Mp42Hls.cpp
@@ -1865,7 +1865,7 @@ main(int argc, char** argv)
     }
     
     if (Options.encryption_iv_mode == ENCRYPTION_IV_MODE_FPS) {
-        if (AP4_StringLength(Options.encryption_key_hex) != 64) {
+        if (Options.encryption_key_hex == NULL || AP4_StringLength(Options.encryption_key_hex) != 64) {
             fprintf(stderr, "ERROR: 'fps' IV mode requires a 32 byte key value (64 characters in hex)\n");
             return 1;
         }
