commit 93e622342c4f3e9b34f5f265039b6775b8e33a7a
Author: Cameron Gutman <aicommander@gmail.com>
Date:   Sat Apr 6 18:21:03 2024 -0500

    Quote the path to sunshinesvc.exe when launching the termination helper (#2379)

diff --git a/tools/sunshinesvc.cpp b/tools/sunshinesvc.cpp
index fee3a693..da0849e2 100644
--- a/tools/sunshinesvc.cpp
+++ b/tools/sunshinesvc.cpp
@@ -145,8 +145,11 @@ bool
 RunTerminationHelper(HANDLE console_token, DWORD pid) {
   WCHAR module_path[MAX_PATH];
   GetModuleFileNameW(NULL, module_path, _countof(module_path));
-  std::wstring command { module_path };
+  std::wstring command;
 
+  command += L'"';
+  command += module_path;
+  command += L'"';
   command += L" --terminate " + std::to_wstring(pid);
 
   STARTUPINFOW startup_info = {};
@@ -157,7 +160,7 @@ RunTerminationHelper(HANDLE console_token, DWORD pid) {
   // This will allow us to attach to Sunshine's console and send it a Ctrl-C event.
   PROCESS_INFORMATION process_info;
   if (!CreateProcessAsUserW(console_token,
-        NULL,
+        module_path,
         (LPWSTR) command.c_str(),
         NULL,
         NULL,
