commit 6430945ce003a5e24d454d8566f54aae1b6b617b
Author: akallabeth <akallabeth@posteo.net>
Date:   Sun Apr 21 10:18:43 2024 +0200

    [codec,color] fix out of bound read

diff --git a/libfreerdp/codec/color.c b/libfreerdp/codec/color.c
index eb9f7a8bc..2c3d08a36 100644
--- a/libfreerdp/codec/color.c
+++ b/libfreerdp/codec/color.c
@@ -847,6 +847,9 @@ BOOL freerdp_image_copy(BYTE* pDstData, DWORD DstFormat, UINT32 nDstStep, UINT32
 	if (!pDstData || !pSrcData)
 		return FALSE;
 
+	if ((nWidth == 0) || (nHeight == 0))
+		return TRUE;
+
 	if (nDstStep == 0)
 		nDstStep = nWidth * FreeRDPGetBytesPerPixel(DstFormat);
 
