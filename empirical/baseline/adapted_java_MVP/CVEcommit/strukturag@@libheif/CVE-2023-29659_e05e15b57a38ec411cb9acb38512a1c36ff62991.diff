commit e05e15b57a38ec411cb9acb38512a1c36ff62991
Author: Dirk Farin <dirk.farin@gmail.com>
Date:   Mon Mar 6 14:33:14 2023 +0100

    do not reduce Fraction accuracy when it would result in a zero denominator (fixes #794)

diff --git a/libheif/box.cc b/libheif/box.cc
index dead6927..b425b4c5 100644
--- a/libheif/box.cc
+++ b/libheif/box.cc
@@ -50,7 +50,7 @@ Fraction::Fraction(int32_t num, int32_t den)
     denominator /= 2;
   }
 
-  while (numerator > MAX_FRACTION_VALUE || numerator < -MAX_FRACTION_VALUE) {
+  while (denominator > 1 && (numerator > MAX_FRACTION_VALUE || numerator < -MAX_FRACTION_VALUE)) {
     numerator /= 2;
     denominator /= 2;
   }
