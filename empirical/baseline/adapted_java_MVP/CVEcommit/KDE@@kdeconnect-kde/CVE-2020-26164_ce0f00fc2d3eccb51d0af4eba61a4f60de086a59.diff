commit ce0f00fc2d3eccb51d0af4eba61a4f60de086a59
Author: Albert Vaca Cintora <albertvaka@gmail.com>
Date:   Thu Sep 24 17:18:06 2020 +0200

    Limit the ports we try to connect to to the port range of KDE Connect
    
    So we can't trigger connections to other services.
    
    Thanks Matthias Gerstner <mgerstner@suse.de> for reporting this.

diff --git a/core/backends/lan/lanlinkprovider.cpp b/core/backends/lan/lanlinkprovider.cpp
index 10f76d35..d07e0b61 100644
--- a/core/backends/lan/lanlinkprovider.cpp
+++ b/core/backends/lan/lanlinkprovider.cpp
@@ -241,6 +241,11 @@ void LanLinkProvider::udpBroadcastReceived()
         }
 
         int tcpPort = receivedPacket->get<int>(QStringLiteral("tcpPort"));
+        if (tcpPort < MIN_TCP_PORT || tcpPort > MAX_TCP_PORT) {
+            qCDebug(KDECONNECT_CORE) << "TCP port outside of kdeconnect's range";
+            delete receivedPacket;
+            continue;
+        }
 
         //qCDebug(KDECONNECT_CORE) << "Received Udp identity packet from" << sender << " asking for a tcp connection on port " << tcpPort;
 
