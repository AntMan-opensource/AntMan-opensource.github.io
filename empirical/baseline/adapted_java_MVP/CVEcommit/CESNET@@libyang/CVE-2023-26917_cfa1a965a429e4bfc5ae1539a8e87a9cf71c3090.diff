commit cfa1a965a429e4bfc5ae1539a8e87a9cf71c3090
Author: Michal Vasko <mvasko@cesnet.cz>
Date:   Mon Feb 27 09:28:45 2023 +0100

    parser common BUGFIX handle missing YANG strings
    
    Fixes #1987

diff --git a/src/parser_common.c b/src/parser_common.c
index 7d8131066..0a035a1ae 100644
--- a/src/parser_common.c
+++ b/src/parser_common.c
@@ -394,6 +394,16 @@ lysp_stmt_validate_value(struct lysp_ctx *ctx, enum yang_arg val_type, const cha
     uint32_t c;
     size_t utf8_char_len;
 
+    if (!val) {
+        if (val_type == Y_MAYBE_STR_ARG) {
+            /* fine */
+            return LY_SUCCESS;
+        }
+
+        LOGVAL_PARSER(ctx, LYVE_SYNTAX, "Missing an expected string.");
+        return LY_EVALID;
+    }
+
     while (*val) {
         LY_CHECK_ERR_RET(ly_getutf8(&val, &c, &utf8_char_len),
                 LOGVAL_PARSER(ctx, LY_VCODE_INCHAR, (val)[-utf8_char_len]), LY_EVALID);
