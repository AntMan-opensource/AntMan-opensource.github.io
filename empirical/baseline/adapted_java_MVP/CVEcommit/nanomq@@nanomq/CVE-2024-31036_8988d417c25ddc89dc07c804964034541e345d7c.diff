commit 8988d417c25ddc89dc07c804964034541e345d7c
Author: wayne <yukang.wei@emqx.io>
Date:   Thu Mar 28 13:10:18 2024 +0800

    * FIX [webhook_inproc] fix wild piont
    
    Signed-off-by: wayne <yukang.wei@emqx.io>

diff --git a/nanomq/webhook_inproc.c b/nanomq/webhook_inproc.c
index 70934d18..d790f59e 100644
--- a/nanomq/webhook_inproc.c
+++ b/nanomq/webhook_inproc.c
@@ -711,7 +711,8 @@ hook_cb(void *arg)
 	rv = nng_pull0_open(&sock);
 	if (rv != 0) {
 		log_error("nng_pull0_open %d", rv);
-		goto out;
+		nng_free(works, works_num * sizeof(struct hook_work *));
+		return;
 	}
 
 	for (i = 0; i < works_num; i++) {
