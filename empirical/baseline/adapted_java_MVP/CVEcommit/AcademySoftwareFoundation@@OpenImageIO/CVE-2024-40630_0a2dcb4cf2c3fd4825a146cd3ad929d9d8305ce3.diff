commit 0a2dcb4cf2c3fd4825a146cd3ad929d9d8305ce3
Author: Gerrard Tai <42868323+flyyee@users.noreply.github.com>
Date:   Mon Jul 15 21:02:58 2024 +0800

    fix(heic): Correctly set imagespec size for heif images
    
    Signed-off-by: Gerrard Tai <42868323+flyyee@users.noreply.github.com>

diff --git a/src/heif.imageio/heifinput.cpp b/src/heif.imageio/heifinput.cpp
index 436b9a511..8fae5d13b 100644
--- a/src/heif.imageio/heifinput.cpp
+++ b/src/heif.imageio/heifinput.cpp
@@ -247,8 +247,9 @@ HeifInput::seek_subimage(int subimage, int miplevel)
 #endif
 
     int bits = m_himage.get_bits_per_pixel(heif_channel_interleaved);
-    m_spec = ImageSpec(m_ihandle.get_width(), m_ihandle.get_height(), bits / 8,
-                       TypeUInt8);
+    m_spec   = ImageSpec(m_himage.get_width(heif_channel_interleaved),
+                         m_himage.get_height(heif_channel_interleaved), bits / 8,
+                         TypeUInt8);
 
     m_spec.attribute("oiio:ColorSpace", "sRGB");
 
