commit 851560e3dc8155d45ace4b0d77421f241ed71dc4
Author: Aurelien David <aurelien.david@telecom-paristech.fr>
Date:   Mon Feb 13 15:41:01 2023 +0100

    fix 3602a5de to take bytes_skipped into account (#2396)

diff --git a/src/filters/reframe_mp3.c b/src/filters/reframe_mp3.c
index 096e0ce0e..c112492da 100644
--- a/src/filters/reframe_mp3.c
+++ b/src/filters/reframe_mp3.c
@@ -668,8 +668,8 @@ GF_Err mp3_dmx_process(GF_Filter *filter)
 		}
 
 		if (!ctx->in_seek) {
-			if (size > remain) {
-				GF_LOG(GF_LOG_WARNING, GF_LOG_MEDIA, ("[MP3Dmx] truncated frame of size %u (remains %u)\n", size, remain));
+			if (bytes_skipped + size > remain) {
+				GF_LOG(GF_LOG_WARNING, GF_LOG_MEDIA, ("[MP3Dmx] truncated frame of size %u (remains %d)\n", size, remain-bytes_skipped));
 				break;
 			}
 			dst_pck = gf_filter_pck_new_alloc(ctx->opid, size, &output);
