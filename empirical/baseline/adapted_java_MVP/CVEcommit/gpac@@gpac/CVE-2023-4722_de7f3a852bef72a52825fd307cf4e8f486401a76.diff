commit de7f3a852bef72a52825fd307cf4e8f486401a76
Author: jeanlf <jeanlf@gpac.io>
Date:   Fri Sep 1 11:58:14 2023 +0200

    Fixed #2579

diff --git a/src/filters/mux_isom.c b/src/filters/mux_isom.c
index 08f9ff51d..4044ef11f 100644
--- a/src/filters/mux_isom.c
+++ b/src/filters/mux_isom.c
@@ -5713,7 +5713,7 @@ static GF_Err mp4_mux_initialize_movie(GF_MP4MuxCtx *ctx)
 		if (p && p->value.lfrac.den) {
 			tkw->pid_dur = p->value.lfrac;
 			if (tkw->pid_dur.num<0) tkw->pid_dur.num = -tkw->pid_dur.num;
-			if (max_dur.num * (s64) tkw->pid_dur.den < (s64) max_dur.den * tkw->pid_dur.num) {
+			if (gf_timestamp_less(max_dur.num, max_dur.den, tkw->pid_dur.num, tkw->pid_dur.den)) {
 				max_dur.num = tkw->pid_dur.num;
 				max_dur.den = tkw->pid_dur.den;
 			}
