commit 67784700869470d65d5f2ef20aeb5e97c31673cb
Author: Mihai Maruseac <mihaimaruseac@google.com>
Date:   Fri Apr 23 11:11:39 2021 -0700

    Prevent division by 0 in `QuantizedBiasAdd`.
    
    PiperOrigin-RevId: 370117454
    Change-Id: I3804e2ac8dcc6d3afcc92e27853e2325a017ca4d

diff --git a/tensorflow/core/kernels/quantized_bias_add_op.cc b/tensorflow/core/kernels/quantized_bias_add_op.cc
index 5457d290c25..db0e21a4980 100644
--- a/tensorflow/core/kernels/quantized_bias_add_op.cc
+++ b/tensorflow/core/kernels/quantized_bias_add_op.cc
@@ -56,6 +56,8 @@ class QuantizedBiasAddOp : public OpKernel {
             "Must provide as many biases as the last dimension "
             "of the input tensor: ",
             bias.shape().DebugString(), " vs. ", input.shape().DebugString()));
+    OP_REQUIRES(context, bias.NumElements() > 0,
+                errors::InvalidArgument("Must provide at least 1 bias"));
 
     Tensor* output = nullptr;
     OP_REQUIRES_OK(context,
