commit 045deec1cbdebb27d817008ad5df94d96a08b1bf
Author: Mihai Maruseac <mihaimaruseac@google.com>
Date:   Sat Nov 13 10:12:22 2021 -0800

    Prevent null pointer dereference in `mutable_graph_view`
    
    PiperOrigin-RevId: 409684472
    Change-Id: I577eb9d9ac470fcec0501423171e739a4ec0cb5c

diff --git a/tensorflow/core/grappler/mutable_graph_view.cc b/tensorflow/core/grappler/mutable_graph_view.cc
index e1eeb42e9c4..d70dc2e01c1 100644
--- a/tensorflow/core/grappler/mutable_graph_view.cc
+++ b/tensorflow/core/grappler/mutable_graph_view.cc
@@ -68,6 +68,9 @@ bool IsIdentityConsumingSwitch(const MutableGraphView& graph,
     }
 
     NodeDef* input_node = graph.GetNode(tensor_id.node());
+    if (input_node == nullptr) {
+      return false;
+    }
     return IsSwitch(*input_node);
   }
   return false;
