commit effd95c34ad421df94eec7c69236f0e4172552d0
Author: Ezra Chung <88335979+eramongodb@users.noreply.github.com>
Date:   Fri Mar 8 13:09:07 2024 -0600

    CDRIVER-5504 Use pointer-based iteration when traversing array elements (#1552)

diff --git a/src/libbson/src/bson/bson-string.c b/src/libbson/src/bson/bson-string.c
index 36c4c5ab4..958fd1066 100644
--- a/src/libbson/src/bson/bson-string.c
+++ b/src/libbson/src/bson/bson-string.c
@@ -473,11 +473,11 @@ bson_strndup (const char *str, /* IN */
 void
 bson_strfreev (char **str) /* IN */
 {
-   int i;
-
    if (str) {
-      for (i = 0; str[i]; i++)
-         bson_free (str[i]);
+      for (char **ptr = str; *ptr != NULL; ++ptr) {
+         bson_free (*ptr);
+      }
+
       bson_free (str);
    }
 }
