commit feaa4e7f7399c51ee6f52deb84dc3f795b4035d6
Author: pancake <pancake@nopcode.org>
Date:   Mon Jan 31 02:32:50 2022 +0100

    Fix null deref in xnu.kernelcache ##crash
    
    * Reported by @xshad3 via huntr.dev

diff --git a/libr/bin/p/bin_xnu_kernelcache.c b/libr/bin/p/bin_xnu_kernelcache.c
index 36b1c2db08..df5b1fe7d0 100644
--- a/libr/bin/p/bin_xnu_kernelcache.c
+++ b/libr/bin/p/bin_xnu_kernelcache.c
@@ -242,7 +242,9 @@ static bool load_buffer(RBinFile *bf, void **bin_obj, RBuffer *buf, ut64 loadadd
 
 beach:
 	r_buf_free (fbuf);
-	obj->cache_buf = NULL;
+	if (obj) {
+		obj->cache_buf = NULL;
+	}
 	MACH0_(mach0_free) (main_mach0);
 	return false;
 }
