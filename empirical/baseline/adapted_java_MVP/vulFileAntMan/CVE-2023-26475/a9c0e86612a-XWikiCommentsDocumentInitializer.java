package com.xpn.xwiki.internal.mandatory;
import javax.inject.Named;
import javax.inject.Singleton;
import org.xwiki.component.annotation.Component;
import org.xwiki.model.reference.LocalDocumentReference;
import org.xwiki.model.reference.RegexEntityReference;
import com.xpn.xwiki.XWiki;
import com.xpn.xwiki.objects.BaseObjectReference;
import com.xpn.xwiki.objects.classes.BaseClass;
import com.xpn.xwiki.objects.classes.TextAreaClass;
public class XWikiCommentsDocumentInitializer extends AbstractCommentsDocumentInitializer {
    public static final String NAME = "XWikiComments";
    public static final String LOCAL_REFERENCE_STRING = XWiki.SYSTEM_SPACE + '.' + NAME;
    public static final LocalDocumentReference LOCAL_REFERENCE = new LocalDocumentReference(XWiki.SYSTEM_SPACE, NAME);
    public static final RegexEntityReference OBJECT_REFERENCE = BaseObjectReference.any(LOCAL_REFERENCE_STRING);
    public XWikiCommentsDocumentInitializer() {
        super(LOCAL_REFERENCE);
    }
    
    protected void createClass(BaseClass xclass) {
        super.createClass(xclass);
        xclass.addTextAreaField("highlight", "Highlighted Text", 40, 2);
        xclass.addNumberField("replyto", "Reply To", 5, "integer");
        String commentPropertyName = "comment";
        xclass.addTextAreaField(commentPropertyName, "Comment", 40, 5);
        TextAreaClass comment =  (TextAreaClass) xclass.getField(commentPropertyName);
        comment.setEditor((String) null);
    }
    
}


