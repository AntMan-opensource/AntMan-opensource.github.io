package com.usthe.sureness.subject.creater;
import com.usthe.sureness.subject.Subject;
import com.usthe.sureness.subject.SubjectCreate;
import com.usthe.sureness.subject.support.NoneSubject;
import javax.servlet.http.HttpServletRequest;
public class NoneSubjectServletCreator implements SubjectCreate {
    public boolean canSupportSubject(Object context) {
        return context instanceof HttpServletRequest;
    }
    
    public Subject createSubject(Object context) {
        String remoteHost = ((HttpServletRequest) context).getRemoteHost();
        String requestUri = ((HttpServletRequest) context).getRequestURI();
        String requestType = ((HttpServletRequest) context).getMethod();
        String targetUri = requestUri.concat("===").concat(requestType).toLowerCase();
        return NoneSubject.builder().setRemoteHost(remoteHost) .setTargetUri(targetUri) .build();
    }
    
}


