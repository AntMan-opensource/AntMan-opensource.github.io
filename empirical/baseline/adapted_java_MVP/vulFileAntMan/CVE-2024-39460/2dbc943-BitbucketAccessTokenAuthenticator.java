package com.cloudbees.jenkins.plugins.bitbucket.api.credentials;
import com.cloudbees.jenkins.plugins.bitbucket.api.BitbucketAuthenticator;
import hudson.util.Secret;
import org.apache.http.HttpHeaders;
import org.apache.http.HttpRequest;
import org.jenkinsci.plugins.plaincredentials.StringCredentials;
public class BitbucketAccessTokenAuthenticator extends BitbucketAuthenticator {
    private final Secret token;
    public BitbucketAccessTokenAuthenticator(StringCredentials credentials) {
        super(credentials);
        token = credentials.getSecret();
    }
    
    public void configureRequest(HttpRequest request) {
        request.setHeader(HttpHeaders.AUTHORIZATION, "Bearer " + token.getPlainText());
    }
    
}


