package org.springframework.security.config.web.server;
import java.util.List;
import org.springframework.http.HttpMethod;
import org.springframework.security.web.server.util.matcher.OrServerWebExchangeMatcher;
import org.springframework.security.web.server.util.matcher.PathPatternParserServerWebExchangeMatcher;
import org.springframework.security.web.server.util.matcher.ServerWebExchangeMatcher;
import org.springframework.security.web.server.util.matcher.ServerWebExchangeMatchers;
public abstract class AbstractServerWebExchangeMatcherRegistry<T> {
	AbstractServerWebExchangeMatcherRegistry() {
	}
	
	 public T anyExchange() {
		return matcher(ServerWebExchangeMatchers.anyExchange());
	}
	
	 public T pathMatchers(HttpMethod method) {
		return pathMatchers(method, new String[] { "/**" });
	}
	
	 public T pathMatchers(HttpMethod method, String... antPatterns) {
		return matcher(ServerWebExchangeMatchers.pathMatchers(method, antPatterns));
	}
	
	 public T pathMatchers(String... antPatterns) {
		return matcher(ServerWebExchangeMatchers.pathMatchers(antPatterns));
	}
	
	 public T matchers(ServerWebExchangeMatcher... matchers) {
		return registerMatcher(new OrServerWebExchangeMatcher(matchers));
	}
	
	 protected abstract T registerMatcher(ServerWebExchangeMatcher matcher);
	 private T matcher(ServerWebExchangeMatcher matcher) {
		return registerMatcher(matcher);
	}
	
}


