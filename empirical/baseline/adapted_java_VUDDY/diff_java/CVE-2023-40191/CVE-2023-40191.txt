commit b6639ead60ef821692288d8700b2ac45eedc0be5
Author: Manuele Castro <manuele.castro@liferay.com>
Date:   Mon Aug 28 18:59:41 2023 -0300

    LPS-194389 Escape blockedEmailAddressDomains

diff --git a/modules/apps/account/account-service/src/main/java/com/liferay/account/internal/configuration/persistence/listener/AccountEntryEmailDomainsConfigurationModelListener.java b/modules/apps/account/account-service/src/main/java/com/liferay/account/internal/configuration/persistence/listener/AccountEntryEmailDomainsConfigurationModelListener.java
index c9eaae4801a41..ac69971c15cb9 100644
--- a/modules/apps/account/account-service/src/main/java/com/liferay/account/internal/configuration/persistence/listener/AccountEntryEmailDomainsConfigurationModelListener.java
+++ b/modules/apps/account/account-service/src/main/java/com/liferay/account/internal/configuration/persistence/listener/AccountEntryEmailDomainsConfigurationModelListener.java
@@ -19,6 +19,7 @@ import com.liferay.portal.kernel.search.BaseModelSearchResult;
 import com.liferay.portal.kernel.util.ArrayUtil;
 import com.liferay.portal.kernel.util.GetterUtil;
 import com.liferay.portal.kernel.util.HashMapDictionaryBuilder;
+import com.liferay.portal.kernel.util.HtmlUtil;
 import com.liferay.portal.kernel.util.ListUtil;
 import com.liferay.portal.kernel.util.LocaleThreadLocal;
 import com.liferay.portal.kernel.util.StringUtil;
@@ -105,6 +106,11 @@ public class AccountEntryEmailDomainsConfigurationModelListener
 			i -> StringUtil.lowerCase(
 				StringUtil.trim(blockedEmailAddressDomains[i])));
 
+		Arrays.setAll(
+			blockedEmailAddressDomains,
+			i -> HtmlUtil.escapeAttribute(
+				StringUtil.trim(blockedEmailAddressDomains[i])));
+
 		DomainValidator domainValidator = _domainValidatorFactory.create(
 			GetterUtil.getStringValues(
 				properties.get("customTLDs"), _EMPTY_STRING_ARRAY));
