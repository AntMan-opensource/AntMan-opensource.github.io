commit 00988873c6ea7e8d081380e4262538960efd6bf1
Author: Igor-Filin <Igor.Filin@smartbear.com>
Date:   Tue Jul 21 10:25:09 2020 +0300

    SECURITY-1686 - [TestComplete] Password stored in plain-text in config.xml for job (Part 3)

diff --git a/src/main/java/com/smartbear/jenkins/plugins/testcomplete/TcTestBuilder.java b/src/main/java/com/smartbear/jenkins/plugins/testcomplete/TcTestBuilder.java
index 375c2d4..b6e3df4 100644
--- a/src/main/java/com/smartbear/jenkins/plugins/testcomplete/TcTestBuilder.java
+++ b/src/main/java/com/smartbear/jenkins/plugins/testcomplete/TcTestBuilder.java
@@ -1324,7 +1324,12 @@ public class TcTestBuilder extends Builder implements Serializable, SimpleBuildS
 
         @Override
         public Builder newInstance(StaplerRequest req, @Nonnull JSONObject formData) throws FormException {
-            return super.newInstance(req, formData);
+            TcTestBuilder builder = (TcTestBuilder)super.newInstance(req, formData);
+            if (!StringUtils.isEmpty(builder.getCredentialsId())) {
+                builder.setUserName("");
+                builder.setUserPassword("");
+            }
+            return builder;
         }
 
         public FormValidation doCheckSuite(@QueryParameter String value) {
