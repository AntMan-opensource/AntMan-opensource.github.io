commit 45931175b6ae14df089f0304f86b5b0f66ac3c02
Author: JÃ¼rgen Kappler <jurgen.kappler@liferay.com>
Date:   Tue May 23 10:38:19 2023 +0200

    LPS-178476 Adds title attribute to the json object

diff --git a/modules/apps/layout/layout-impl/src/main/java/com/liferay/layout/internal/util/LayoutsTreeImpl.java b/modules/apps/layout/layout-impl/src/main/java/com/liferay/layout/internal/util/LayoutsTreeImpl.java
index 92efbc4f3b290..ba755273b7c6b 100644
--- a/modules/apps/layout/layout-impl/src/main/java/com/liferay/layout/internal/util/LayoutsTreeImpl.java
+++ b/modules/apps/layout/layout-impl/src/main/java/com/liferay/layout/internal/util/LayoutsTreeImpl.java
@@ -345,6 +345,17 @@ public class LayoutsTreeImpl implements LayoutsTree {
 
 		boolean finalHasUpdatePermission = hasUpdatePermission;
 
+		String layoutName = layout.getName(themeDisplay.getLocale());
+
+		if (includeActions && (_getDraftLayout(layout) != null) &&
+			(finalHasUpdatePermission || !layout.isPublished() ||
+			 _layoutContentModelResourcePermission.contains(
+				 themeDisplay.getPermissionChecker(), layout.getPlid(),
+				 ActionKeys.UPDATE))) {
+
+			layoutName += StringPool.STAR;
+		}
+
 		JSONObject jsonObject = JSONUtil.put(
 			"actions",
 			() -> {
@@ -389,20 +400,7 @@ public class LayoutsTreeImpl implements LayoutsTree {
 		).put(
 			"layoutId", layout.getLayoutId()
 		).put(
-			"name",
-			() -> {
-				if (includeActions && (_getDraftLayout(layout) != null) &&
-					(finalHasUpdatePermission || !layout.isPublished() ||
-					 _layoutContentModelResourcePermission.contains(
-						 themeDisplay.getPermissionChecker(), layout.getPlid(),
-						 ActionKeys.UPDATE))) {
-
-					return layout.getName(themeDisplay.getLocale()) +
-						StringPool.STAR;
-				}
-
-				return layout.getName(themeDisplay.getLocale());
-			}
+			"name", layoutName
 		).put(
 			"paginated",
 			() -> {
@@ -443,6 +441,8 @@ public class LayoutsTreeImpl implements LayoutsTree {
 
 				return StringPool.BLANK;
 			}
+		).put(
+			"title", HtmlUtil.escapeAttribute(layoutName)
 		).put(
 			"type", layout.getType()
 		);
