commit cfe2a97600bb39840382ee00da9b904fe59446f8
Author: Marc Savy <marc@rhymewithgravy.com>
Date:   Mon Mar 13 15:43:40 2023 +0000

    fix(manager-api-impl): reintroduce perm check removed during refactoring

diff --git a/manager/api/rest-impl/src/main/java/io/apiman/manager/api/rest/impl/OrganizationResourceImpl.java b/manager/api/rest-impl/src/main/java/io/apiman/manager/api/rest/impl/OrganizationResourceImpl.java
index 132389041..4d3e53f17 100644
--- a/manager/api/rest-impl/src/main/java/io/apiman/manager/api/rest/impl/OrganizationResourceImpl.java
+++ b/manager/api/rest-impl/src/main/java/io/apiman/manager/api/rest/impl/OrganizationResourceImpl.java
@@ -401,6 +401,7 @@ public class OrganizationResourceImpl implements IOrganizationResource, DataAcce
     @Override
     public Response getApiRegistryJSON(String organizationId, String clientId, String version, String download)
             throws ClientNotFoundException, NotAuthorizedException {
+        securityContext.checkPermissions(PermissionType.clientView, organizationId);
         if (BooleanUtils.toBoolean(download)) { //$NON-NLS-1$
             String path = String.format("%s/%s/%s", organizationId, clientId, version); //$NON-NLS-1$
             DownloadBean dbean = tryAction(() ->  downloadManager.createDownload(DownloadType.apiRegistryJson, path));
