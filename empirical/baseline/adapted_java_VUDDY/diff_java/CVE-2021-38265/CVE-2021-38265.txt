commit ac8267406785c2e70f4b15aadd604fbe7fb4451b
Author: JÃ¼rgen Kappler <jurgen.kappler@liferay.com>
Date:   Thu Mar 18 12:36:44 2021 +0100

    LPS-129109 Escape collection name before replacing it

diff --git a/modules/apps/layout/layout-admin-web/src/main/java/com/liferay/layout/admin/web/internal/portlet/action/AddCollectionLayoutMVCActionCommand.java b/modules/apps/layout/layout-admin-web/src/main/java/com/liferay/layout/admin/web/internal/portlet/action/AddCollectionLayoutMVCActionCommand.java
index 34ae3650dcf55..8d97f596b9ed1 100644
--- a/modules/apps/layout/layout-admin-web/src/main/java/com/liferay/layout/admin/web/internal/portlet/action/AddCollectionLayoutMVCActionCommand.java
+++ b/modules/apps/layout/layout-admin-web/src/main/java/com/liferay/layout/admin/web/internal/portlet/action/AddCollectionLayoutMVCActionCommand.java
@@ -40,6 +40,7 @@ import com.liferay.portal.kernel.servlet.MultiSessionMessages;
 import com.liferay.portal.kernel.servlet.SessionErrors;
 import com.liferay.portal.kernel.theme.ThemeDisplay;
 import com.liferay.portal.kernel.util.HashMapBuilder;
+import com.liferay.portal.kernel.util.HtmlUtil;
 import com.liferay.portal.kernel.util.LocaleUtil;
 import com.liferay.portal.kernel.util.ParamUtil;
 import com.liferay.portal.kernel.util.Portal;
@@ -189,7 +190,7 @@ public class AddCollectionLayoutMVCActionCommand
 		).put(
 			"CLASS_PK", classPK
 		).put(
-			"COLLECTION_NAME", assetListEntry.getTitle()
+			"COLLECTION_NAME", HtmlUtil.escape(assetListEntry.getTitle())
 		).build();
 
 		String collectionDefinition = StringUtil.read(
